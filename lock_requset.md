## 基于FPGA的密码锁设计  文档

##### 整体要求：

1、分析电子密码锁的工作原理和现有的设计方案，探索FPGA技术在电子密码锁中的应用。
2、设计并实现基于FPGA的电子密码锁的硬件电路，包括输入接囗、控制模块、密码存储和比对模块等。
3、开发电子密码锁的驱动程序，使其能够与外部设备进行通信和数据交互。
4、进行电子密码锁的功能测试和安全性评估，验证其可靠性和安全性。

##### 实现的功能：

输入显示功能．按键输入时，数码管会显示密码，能更好的观察输入的密码是否正确。
密码预置功能．密码输入时有密码预置功能，可以事先设置好密码，以便之后方便。
密码修改功能：密码可以修改，在密码锁打开的状态下，输入新的密码，按下上锁键即可修改密码。
报警功能：密码辅入过程中密码有误时，能对已经输入的密码清除以便新输入密码，密码连续三次辅入错误，开启报警并将持续五秒。
锁死功能：密码输入错误五次以上，开启锁死功能，并在三分钟后解除，重新输入正确密码。
万能码功能．设置万能密码，防止遗忘密码造的诸多不便。



分析系统的输入输出

输入：一个字符对应的四位编码      （时序电路） 时钟和系统复位

输出：开门信号   报警信号



设计指标

①输入允许为0-9，*，#，上锁按键。共有15种输入，使用四位二进制编码。

​	1-9对应二进制数0001-1001；0为1010，*为1011；#1100；

​	确认按键为1111，开锁按键为1110；选项按键为1110。0000为默认的无效输入。

②密码最大允许的输入为6位，最低为4位。

③密码不可以为00000000，（后期增加）亦不可设置为过于简单的密码



设计

需要按照其要求，分模块编写。模块划分为输入与寄存，对比验证，密码修改，锁死控制，显示。

核心的思路就是状态机。

将关门连接在复位上面

##### 版本控制

###### V1

先写一个寄存密码的模块，寄存输入的密码。修改输入为15个，检测到不为0时，转换状态。

设置输入有效标志位为输入相或，当出现上升沿时进行跳转（by边沿检测）

设置确认有效标志位为输入相与，为1时向后传递输入。

写一个状态机







































附件1：原始要求图片

![mmexport1711459526476.jpg](https://gitee.com/liuxiaodi2238/imgs/raw/master/img/RhKpgrNfy1573CB.jpg)

